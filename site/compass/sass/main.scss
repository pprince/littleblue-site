// main.scss
// =========
//
// This is the site-wide stylesheet, included on every page.
//
// It is more efficient to put everything in one file, main.css, than to have
// the client download many litttle files.
//
// For our sanity, however, we seperate our styles into logical chunks and
// modules, and then piece those together by importing and including them
// elsewhere.


@import "base";


// Unlike most imports, '@import "compass/reset";' will 
// actually cause CSS to be generated in the output file.
// Therefore, it is not included when you `@import "compass"`.
@import "compass/reset";


// establish our box-sizing model globally
// (provided by Susy; settings in _base.scss)
@include global-box-sizing;


// establish vertical rhythym a.k.a baseline grid
// (provided by Compass; settings in _base.scss)
@include establish-baseline;


// this project's submodules
// each of these files generates CSS that, all together, will make up main.css
@import "links";
@import "background";
@import "fonts";
@import "typography";
@import "syntax";
@import "selection";


// *grumble*
@include sticky-footer($base-line-height*1.5, ".sticky-footer-wrap", ".sticky-footer-push", ".sticky-footer");


body {
    color: #ccc;
    @include background-with-css2-fallback(
        url($dark-noise-005),
        $page-bg-color
    );
}

.sticky-footer-wrap {
    @include background(
        radial_gradient(300px circle at center $base-line-height*3, color-stops(rgba(white,0.20), transparent))
    );
}


#{headings()}, hgroup {
    color: $base-color;
}


header[role=banner] {
    text-align: center;
    @include rhythm-padding;
    @include full;
    #{headings()} {
        font-family: $default-banner-heading-font-face;
        margin-top: 0;
        margin-bottom: 0;
    }
    h1 {
        @include adjust-font-size-to(340%);
        @include outline-text(#ddd, true);
        letter-spacing: 2px;
    }
}

nav[role=navigation] {
    font-weight: bold;
    text-align: center;
    @include full;
    @include border-top-radius();
    ul {
        margin: 0 0.25em;
        @include inline-block-list();
        @include margin-leader(0.5);
        @include margin-trailer(0.5);
        li {
            a {
                display: block;
                padding: 0 0.6em;
                @include adjust-font-size-to(122%, 2);
                @include border-radius($base-line-height);
                &:hover {
                    background: rgba(white, 0.20);
                }
                &:hover[href="#"], &:hover.current {
                    background: transparent;
                }
            }
            h1 {
                display: none;
            }
        }
    }
}

main {
    @include box-shadow;
    @include border-radius;
    background: linear-gradient(right top, rgba(black, 0.40), transparent, transparent), rgba(black, 0.1);
    @include margin-trailer(1.5);
}
main>article, main>section {
    @include box-shadow;
    color: #222;
    background-color: rgba(white, 0.85);
    @include padding-trailer;
    @include border-radius;
}
main>aside {
    @extend %small;
    @include padding-trailer;
}
main>aside>h3 {
    display: none;
}
main>aside>h3+h4 {
    @include margin-leader(2);
}

footer[role=contentinfo] {
    @include adjust-leading-to(1.5);
    @extend %small;
    background-color: rgba(black,0.3);
    text-align: center;
    max-width: susy-get(container);
    margin: 0 auto;
    @include border-top-radius;
}

%button {
    @include sassy-button;
    @include box-shadow;
}
button, *[role=button] {
    @extend %button;
}

.posts, .vcard {
    padding-left: 1em;
}

.vcard {
    @extend %small;
    @include adjust-leading-to(3/4);
    a {
        @include unstyled-link;
    }
}

.metadata {
    @extend %small;
    text-align: right;
    color: #444;
    .label {
        color: #777;
    }
}


// Overrides of the above:
@import "respond";
